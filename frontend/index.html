<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1a1a1a">
    <meta name="description" content="Santoo - Plataforma gospel completa com v√≠deos, lives e B√≠blia Explicada. Cres√ßa espiritualmente com nossa comunidade crist√£.">
    
    <!-- CACHE CONTROL SUPREMO - For√ßa sempre vers√£o mais recente -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="cache-control" content="no-cache">
    <meta name="expires" content="0">
    <meta name="pragma" content="no-cache">
    
    <!-- SEO Meta Tags -->
    <meta property="og:title" content="Santoo - Plataforma Gospel de V√≠deos">
    <meta property="og:description" content="Compartilhe v√≠deos gospel, testemunhos e prega√ß√µes com a comunidade crist√£">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://santoo.app">
    <meta property="og:image" content="assets/images/logos/logo.png">
    <meta property="og:image:alt" content="Santoo - Logo da plataforma gospel de v√≠deos">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/logos/logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/logos/logo.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Outfit:wght@300;400;500;600;700&family=Georgia:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    
    <!-- Professional Icons - Lucide Icons (SVG) -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js" defer></script>
    
    <!-- Skip to main content for accessibility -->
    <style>
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--color-accent);
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 4px;
            z-index: 10000;
        }
        .skip-link:focus {
            top: 6px;
        }
    </style>
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/main.css">
    
    <title>Santoo - Plataforma Gospel de V√≠deos</title>
</head>
<body>
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link">Pular para o conte√∫do principal</a>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen" role="dialog" aria-label="Carregando aplica√ß√£o">
        <div class="loading-content">
            <div class="logo-container">
                <div class="logo-images-row">
                    <img src="assets/images/logos/logo2.png" alt="Santoo - Logo principal" class="logo-image">
                    <img src="assets/images/logos/favicon.png" alt="Santoo - √çcone" class="favicon-image">
                </div>
                <div class="loading-text" aria-live="polite">Carregando...</div>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app" style="display: none;">
        
        <!-- Header / Navigation -->
        <header class="header" role="banner">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="app-logo">
                        <img src="assets/images/logos/logo.png" alt="Santoo" class="header-logo">
                    </h1>
                </div>
                
                <nav class="main-nav" role="navigation" aria-label="Navega√ß√£o principal">
                    <a href="#home" class="nav-link active" data-page="home" aria-label="Ir para p√°gina inicial" aria-current="page">
                        <i class="nav-icon" data-lucide="home" aria-hidden="true"></i>
                        <span class="nav-text">In√≠cio</span>
                    </a>
                    <a href="#discover" class="nav-link" data-page="discover" aria-label="Descobrir conte√∫dos">
                        <i class="nav-icon" data-lucide="compass" aria-hidden="true"></i>
                        <span class="nav-text">Descobrir</span>
                    </a>
                    <a href="#upload" class="nav-link" data-page="upload" aria-label="Publicar conte√∫do">
                        <i class="nav-icon" data-lucide="plus-circle" aria-hidden="true"></i>
                        <span class="nav-text">Publicar</span>
                    </a>
                    <a href="#live" class="nav-link" data-page="live" aria-label="Transmiss√µes ao vivo">
                        <i class="nav-icon" data-lucide="radio" aria-hidden="true"></i>
                        <span class="nav-text">Ao Vivo</span>
                    </a>
                    <a href="#bible-explained" class="nav-link" data-page="bible-explained" aria-label="B√≠blia Explicada com contexto">
                        <i class="nav-icon" data-lucide="book-open" aria-hidden="true"></i>
                        <span class="nav-text">B√≠blia Explicada</span>
                    </a>
                    <a href="#bible-admin" class="nav-link" data-page="bible-admin" id="bibleAdminLink" style="display: none;">
                        <i class="nav-icon" data-lucide="settings"></i>
                        <span class="nav-text">Admin B√≠blia</span>
                    </a>
                    <div class="dropdown" id="profileDropdown">
                        <a href="#profile" class="nav-link" data-page="profile" id="profileMenuBtn">
                            <i class="nav-icon" data-lucide="user"></i>
                            <span class="nav-text">Perfil</span>
                            <i class="nav-icon dropdown-arrow" data-lucide="chevron-down" style="width: 14px; height: 14px; margin-left: var(--space-1);"></i>
                        </a>
                        <div class="dropdown-menu" id="profileSubmenu">
                            <!-- Conte√∫do ser√° adicionado dinamicamente via JavaScript baseado no estado de auth -->
                        </div>
                    </div>
                </nav>
                
                <div class="user-actions">
                    <button class="btn-icon" id="searchBtn" title="Buscar">
                        <i data-lucide="search"></i>
                    </button>
                    <button class="btn-icon" id="notificationsBtn" title="Notifica√ß√µes">
                        <i data-lucide="bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="main-content">
            
            <!-- Home Page -->
            <section id="homePage" class="page active">
                <div class="page-header">
                    <h2>Para Voc√™</h2>
                    <div class="feed-filters">
                        <button class="filter-btn active" data-filter="all">Todos</button>
                        <button class="filter-btn" data-filter="pregacao">Prega√ß√£o</button>
                        <button class="filter-btn" data-filter="musica">M√∫sica</button>
                        <button class="filter-btn" data-filter="testemunho">Testemunho</button>
                    </div>
                </div>
                
                <div class="video-feed" id="videoFeed">
                    <!-- Videos will be loaded here -->
                    <div class="loading-videos">
                        <div class="video-placeholder"></div>
                        <div class="video-placeholder"></div>
                        <div class="video-placeholder"></div>
                    </div>
                </div>
            </section>

            <!-- Upload Page -->
            <section id="uploadPage" class="page">
                <div class="page-header">
                    <h2>Compartilhar V√≠deo</h2>
                    <p>Compartilhe sua mensagem com a comunidade</p>
                </div>
                
                <div class="upload-container">
                    <div class="upload-zone" id="uploadZone">
                        <div class="upload-content">
                            <div class="upload-icon">üìπ</div>
                            <h3>Selecione ou arraste seu v√≠deo</h3>
                            <p>MP4, MOV ou WebM at√© 100MB</p>
                            <button class="btn-primary" id="selectVideoBtn">Escolher Arquivo</button>
                            <input type="file" id="videoFileInput" accept="video/*" hidden>
                        </div>
                    </div>
                    
                    <div class="upload-form" id="uploadForm" style="display: none;">
                        <!-- Upload form will appear here -->
                    </div>
                </div>
            </section>

            <!-- Bible Explained Page - Feed P√∫blico -->
            <section id="bibleExplainedPage" class="page">
                <div class="page-header">
                    <div class="bible-header">
                        <div class="bible-header-content">
                            <div class="bible-header-icon">
                                <i data-lucide="book-open" class="header-icon"></i>
                            </div>
                            <div class="bible-header-text">
                                <h2>B√≠blia Explicada</h2>
                                <p>Vers√≠culos b√≠blicos com explica√ß√µes em linguagem moderna</p>
                            </div>
                        </div>
                        <div class="bible-filters">
                            <button class="filter-btn active" data-category="all">
                                <i data-lucide="grid-3x3"></i>
                                <span>Todos</span>
                            </button>
                            <button class="filter-btn" data-category="sabedoria">
                                <i data-lucide="lightbulb"></i>
                                <span>Sabedoria</span>
                            </button>
                            <button class="filter-btn" data-category="amor">
                                <i data-lucide="heart"></i>
                                <span>Amor</span>
                            </button>
                            <button class="filter-btn" data-category="fe">
                                <i data-lucide="zap"></i>
                                <span>F√©</span>
                            </button>
                            <button class="filter-btn" data-category="paz">
                                <i data-lucide="leaf"></i>
                                <span>Paz</span>
                            </button>
                            <button class="filter-btn" data-category="oracao">
                                <i data-lucide="hand"></i>
                                <span>Ora√ß√£o</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="bible-content">
                    <!-- Bible Posts Feed -->
                    <div id="bibleFeed" class="bible-feed">
                        <!-- Posts will be loaded here dynamically -->
                        <div class="loading-bible-posts" style="display: flex; flex-direction: column; align-items: center; padding: var(--space-12); text-align: center;">
                            <div class="loading-spinner" style="width: 40px; height: 40px; border: 3px solid var(--color-bg-tertiary); border-radius: 50%; border-top-color: var(--color-gospel-gold); animation: var(--animation-spin); margin-bottom: var(--space-4);"></div>
                            <h3 style="color: var(--color-text-secondary); margin-bottom: var(--space-2);">Carregando posts da B√≠blia...</h3>
                            <p style="color: var(--color-text-tertiary); max-width: 400px;">Preparando vers√≠culos com explica√ß√µes personalizadas para voc√™</p>
                        </div>
                    </div>

                    <!-- Load More Button -->
                    <div class="load-more-container" style="display: none; text-align: center; padding: var(--space-8);">
                        <button id="loadMoreBiblePosts" class="btn btn-secondary" style="min-width: 200px;">
                            <i data-lucide="plus-circle"></i>
                            <span>Carregar mais posts</span>
                        </button>
                    </div>

                    <!-- Empty State -->
                    <div id="emptyBibleFeed" class="empty-state" style="display: none;">
                        <div class="empty-content" style="text-align: center; padding: var(--space-16);">
                            <div class="empty-icon" style="font-size: 64px; margin-bottom: var(--space-6);">üìñ</div>
                            <h3 style="color: var(--color-text-secondary); margin-bottom: var(--space-4);">Nenhum post encontrado</h3>
                            <p style="color: var(--color-text-tertiary); max-width: 400px; margin: 0 auto;">N√£o h√° posts b√≠blicos dispon√≠veis no momento. Tente novamente mais tarde.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Page -->
            <section id="profilePage" class="page">
                <div class="profile-header">
                    <div class="profile-cover"></div>
                    <div class="profile-info">
                        <div class="profile-avatar">
                            <img src="assets/images/default-avatar.svg" alt="Avatar do usu√°rio">
                        </div>
                        <h2 class="profile-name">Usu√°rio Convidado</h2>
                        <p class="profile-bio">Bem-vindo ao Santoo! Fa√ßa login para personalizar seu perfil.</p>
                        <div class="profile-stats">
                            <div class="stat">
                                <strong>0</strong>
                                <span>Seguidores</span>
                            </div>
                            <div class="stat">
                                <strong>0</strong>
                                <span>Seguindo</span>
                            </div>
                            <div class="stat">
                                <strong>0</strong>
                                <span>V√≠deos</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-content">
                    <!-- Auth Prompt for Guests -->
                    <div class="auth-prompt">
                        <div class="auth-prompt-header">
                            <i class="auth-prompt-icon" data-lucide="users"></i>
                            <h3>Junte-se √† comunidade Santoo</h3>
                        </div>
                        <p class="auth-prompt-description">Fa√ßa login ou crie uma conta para come√ßar a compartilhar sua jornada de f√© com milhares de pessoas.</p>
                        <div class="auth-buttons">
                            <button class="nav-link active" id="loginBtn">
                                <i class="nav-icon" data-lucide="log-in"></i>
                                <span class="nav-text">Entrar</span>
                            </button>
                            <button class="nav-link" id="registerBtn">
                                <i class="nav-icon" data-lucide="user-plus"></i>
                                <span class="nav-text">Criar Conta</span>
                            </button>
                        </div>
                        <div class="auth-features">
                            <div class="auth-feature">
                                <i class="feature-icon" data-lucide="video"></i>
                                <span>Publique v√≠deos</span>
                            </div>
                            <div class="auth-feature">
                                <i class="feature-icon" data-lucide="heart"></i>
                                <span>Interaja com a comunidade</span>
                            </div>
                            <div class="auth-feature">
                                <i class="feature-icon" data-lucide="radio"></i>
                                <span>Transmita ao vivo</span>
                            </div>
                        </div>
                    </div>

                    <!-- Spiritual Progress Dashboard for Authenticated Users -->
                    <div class="spiritual-dashboard" id="spiritualDashboard" style="display: none;">
                        
                        <!-- Progress Overview -->
                        <div class="dashboard-overview">
                            <h3 class="dashboard-title">
                                <i data-lucide="trending-up"></i>
                                Minha Jornada Espiritual
                            </h3>
                            <div class="progress-stats">
                                <div class="progress-stat">
                                    <div class="stat-icon">
                                        <i data-lucide="check-circle"></i>
                                    </div>
                                    <div class="stat-content">
                                        <strong id="amenCount">0</strong>
                                        <span>Ensinamentos Praticados</span>
                                    </div>
                                </div>
                                <div class="progress-stat">
                                    <div class="stat-icon">
                                        <i data-lucide="target"></i>
                                    </div>
                                    <div class="stat-content">
                                        <strong id="opsCount">0</strong>
                                        <span>Pr√≥ximos Desafios</span>
                                    </div>
                                </div>
                                <div class="progress-stat">
                                    <div class="stat-icon">
                                        <i data-lucide="flame"></i>
                                    </div>
                                    <div class="stat-content">
                                        <strong id="streakCount">0</strong>
                                        <span>dias de Sequ√™ncia</span>
                                    </div>
                                </div>
                                <div class="progress-stat">
                                    <div class="stat-icon">
                                        <i data-lucide="calendar"></i>
                                    </div>
                                    <div class="stat-content">
                                        <strong id="monthlyRate">0%</strong>
                                        <span>Taxa Mensal</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Navigation Tabs -->
                        <div class="spiritual-tabs">
                            <button class="spiritual-tab active" data-tab="amen">
                                <i data-lucide="check"></i>
                                <span>Am√©m</span>
                                <span class="tab-count" id="amenTabCount">0</span>
                            </button>
                            <button class="spiritual-tab" data-tab="ops">
                                <i data-lucide="zap"></i>
                                <span>Ops</span>
                                <span class="tab-count" id="opsTabCount">0</span>
                            </button>
                            <button class="spiritual-tab" data-tab="progress">
                                <i data-lucide="activity"></i>
                                <span>Progresso</span>
                            </button>
                        </div>

                        <!-- Tab Content -->
                        <div class="spiritual-content">
                            
                            <!-- Am√©m Section - Already Practicing -->
                            <div class="tab-content active" id="amenSection">
                                <div class="section-header">
                                    <div class="section-title">
                                        <h4>
                                            <i data-lucide="heart"></i>
                                            Ensinamentos que J√° Pratico
                                        </h4>
                                        <p>Continue mantendo esses h√°bitos espirituais em sua vida di√°ria</p>
                                    </div>
                                </div>
                                <div class="habits-grid" id="amenHabits">
                                    <!-- Am√©m habits will be loaded here -->
                                    <div class="habits-loading">
                                        <i data-lucide="loader"></i>
                                        <span>Carregando seus h√°bitos espirituais...</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Ops Section - Want to Start -->
                            <div class="tab-content" id="opsSection">
                                <div class="section-header">
                                    <div class="section-title">
                                        <h4>
                                            <i data-lucide="target"></i>
                                            Ensinamentos para Come√ßar a Praticar
                                        </h4>
                                        <p>Transforme essas inten√ß√µes em h√°bitos reais de crescimento espiritual</p>
                                    </div>
                                </div>
                                <div class="habits-grid" id="opsHabits">
                                    <!-- Ops habits will be loaded here -->
                                    <div class="habits-loading">
                                        <i data-lucide="loader"></i>
                                        <span>Carregando seus pr√≥ximos desafios...</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Progress Section - Analytics -->
                            <div class="tab-content" id="progressSection">
                                <div class="section-header">
                                    <div class="section-title">
                                        <h4>
                                            <i data-lucide="bar-chart-3"></i>
                                            Dashboard de Crescimento
                                        </h4>
                                        <p>Visualize seu progresso espiritual ao longo do tempo</p>
                                    </div>
                                </div>
                                
                                <div class="progress-charts">
                                    <!-- Weekly Progress Chart -->
                                    <div class="progress-chart">
                                        <h5>Progresso da Semana</h5>
                                        <div class="week-chart" id="weekChart">
                                            <div class="week-day">
                                                <span>D</span>
                                                <div class="day-bar" data-success="0"></div>
                                            </div>
                                            <div class="week-day">
                                                <span>S</span>
                                                <div class="day-bar" data-success="0"></div>
                                            </div>
                                            <div class="week-day">
                                                <span>T</span>
                                                <div class="day-bar" data-success="0"></div>
                                            </div>
                                            <div class="week-day">
                                                <span>Q</span>
                                                <div class="day-bar" data-success="0"></div>
                                            </div>
                                            <div class="week-day">
                                                <span>Q</span>
                                                <div class="day-bar" data-success="0"></div>
                                            </div>
                                            <div class="week-day">
                                                <span>S</span>
                                                <div class="day-bar" data-success="0"></div>
                                            </div>
                                            <div class="week-day">
                                                <span>S</span>
                                                <div class="day-bar" data-success="0"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Category Performance -->
                                    <div class="progress-chart">
                                        <h5>Performance por Categoria</h5>
                                        <div class="category-performance" id="categoryPerformance">
                                            <!-- Categories will be loaded here -->
                                        </div>
                                    </div>

                                    <!-- Recent Activity -->
                                    <div class="progress-chart">
                                        <h5>Atividade Recente</h5>
                                        <div class="recent-activity" id="recentActivity">
                                            <!-- Recent activities will be loaded here -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </section>

            <!-- Bible Admin Page - Gest√£o de Posts B√≠blicos -->
            <section id="bibleAdminPage" class="page">
                <div class="profile-header">
                    <div class="profile-info">
                        <div class="profile-avatar">
                            <i data-lucide="book-open" style="width: 40px; height: 40px; color: var(--color-gospel-gold);"></i>
                        </div>
                        <h2 class="profile-name">B√≠blia Explicada - Administra√ß√£o</h2>
                        <p class="profile-bio">Painel administrativo para cria√ß√£o e gerenciamento de posts da B√≠blia Explicada</p>
                        <div class="profile-stats">
                            <div class="stat">
                                <strong id="adminStatsTotal">0</strong>
                                <span>Posts Criados</span>
                            </div>
                            <div class="stat">
                                <strong id="adminStatsActive">0</strong>
                                <span>Publicados</span>
                            </div>
                            <div class="stat">
                                <strong id="adminStatsDrafts">0</strong>
                                <span>Rascunhos</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-content">
                    <!-- Admin Navigation -->
                    <div class="admin-nav">
                        <div class="auth-buttons" style="margin-bottom: var(--space-6);">
                            <button class="nav-link active" id="adminCreatePostBtn">
                                <i class="nav-icon" data-lucide="plus-circle"></i>
                                <span class="nav-text">Criar Novo Post</span>
                            </button>
                            <button class="nav-link" id="adminManagePostsBtn">
                                <i class="nav-icon" data-lucide="list"></i>
                                <span class="nav-text">Gerenciar Posts</span>
                            </button>
                            <button class="nav-link" id="adminDisagreementsBtn">
                                <i class="nav-icon" data-lucide="message-square"></i>
                                <span class="nav-text">Discord√¢ncias</span>
                            </button>
                        </div>
                    </div>

                    <!-- Create Post Section -->
                    <div id="adminCreateSection" class="admin-section active">
                        <div class="auth-prompt">
                            <div class="auth-prompt-header">
                                <i class="auth-prompt-icon" data-lucide="book-open"></i>
                                <h3>Criar Post da B√≠blia Explicada</h3>
                            </div>
                            <p class="auth-prompt-description">Crie um novo post com explica√ß√£o detalhada de vers√≠culo b√≠blico</p>
                            
                            <form id="biblePostForm" class="bible-post-form">
                                <!-- T√≠tulo do Post -->
                                <div class="form-group">
                                    <label for="postTitle">T√≠tulo do Post</label>
                                    <input type="text" id="postTitle" name="title" 
                                           placeholder="Ex: Salmos 119:105 - L√¢mpada para os meus p√©s" 
                                           maxlength="200" required>
                                    <small>T√≠tulo que aparecer√° no feed (m√°x. 200 caracteres)</small>
                                </div>

                                <!-- Refer√™ncia B√≠blica -->
                                <div class="form-group">
                                    <label for="verseReference">Refer√™ncia B√≠blica</label>
                                    <input type="text" id="verseReference" name="verse_reference" 
                                           placeholder="Ex: Salmos 119:105" 
                                           pattern="^[A-Za-z√Ä-√ø\s0-9]+\s\d+:\d+(-\d+)?$"
                                           maxlength="50" required>
                                    <small>Formato: Livro Cap√≠tulo:Vers√≠culo (ex: Jo√£o 3:16)</small>
                                </div>

                                <!-- Vers√≠culo Original -->
                                <div class="form-group">
                                    <label for="originalText">Vers√≠culo Original Completo</label>
                                    <textarea id="originalText" name="original_text" 
                                              placeholder="Cole aqui o texto b√≠blico original completo..." 
                                              rows="4" required></textarea>
                                    <small>Texto original do vers√≠culo na tradu√ß√£o escolhida</small>
                                </div>

                                <!-- Contexto Hist√≥rico -->
                                <div class="form-group">
                                    <label for="historicalContext">üìö Contexto Hist√≥rico</label>
                                    <textarea id="historicalContext" name="historical_context" 
                                              placeholder="Explique o contexto da √©poca, cultura, situa√ß√£o hist√≥rica..."
                                              rows="5" required></textarea>
                                    <small>Contextualize o vers√≠culo na √©poca em que foi escrito</small>
                                </div>

                                <!-- Tradu√ß√£o Moderna -->
                                <div class="form-group">
                                    <label for="modernTranslation">üîÑ Tradu√ß√£o para Linguagem Atual</label>
                                    <textarea id="modernTranslation" name="modern_translation" 
                                              placeholder="Como voc√™ explicaria este vers√≠culo usando palavras de hoje..."
                                              rows="4" required></textarea>
                                    <small>Traduza o vers√≠culo para linguagem contempor√¢nea e acess√≠vel</small>
                                </div>

                                <!-- Significado Pr√°tico -->
                                <div class="form-group">
                                    <label for="practicalMeaning">üí° O Que o Texto Realmente Est√° Dizendo</label>
                                    <textarea id="practicalMeaning" name="practical_meaning" 
                                              placeholder="Qual √© a mensagem central e pr√°tica deste vers√≠culo..."
                                              rows="5" required></textarea>
                                    <small>Explique a ess√™ncia da mensagem de forma clara e objetiva</small>
                                </div>

                                <!-- Aplica√ß√£o Moderna -->
                                <div class="form-group">
                                    <label for="modernApplication">üéØ Como Aplicar na Vida Hoje</label>
                                    <textarea id="modernApplication" name="modern_application" 
                                              placeholder="Como uma pessoa moderna pode aplicar este ensinamento no dia a dia..."
                                              rows="5" required></textarea>
                                    <small>D√™ exemplos pr√°ticos e concretos para aplica√ß√£o atual</small>
                                </div>

                                <!-- Curiosidades (Opcional) -->
                                <div class="form-group">
                                    <label for="curiosities">‚≠ê Curiosidades e Informa√ß√µes Extras (Opcional)</label>
                                    <textarea id="curiosities" name="curiosities" 
                                              placeholder="Informa√ß√µes interessantes, simbolismos, etimologia, curiosidades hist√≥ricas..."
                                              rows="4"></textarea>
                                    <small>Adicione informa√ß√µes extras que enrique√ßam a compreens√£o</small>
                                </div>

                                <!-- Categoria -->
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="postCategory">Categoria</label>
                                        <select id="postCategory" name="category" required>
                                            <option value="">Selecione uma categoria</option>
                                            <option value="sabedoria">üìö Sabedoria</option>
                                            <option value="amor">‚ù§Ô∏è Amor</option>
                                            <option value="fe">üôè F√©</option>
                                            <option value="oracao">üïäÔ∏è Ora√ß√£o</option>
                                            <option value="relacionamentos">üë• Relacionamentos</option>
                                            <option value="trabalho">üíº Trabalho</option>
                                            <option value="familia">üè† Fam√≠lia</option>
                                            <option value="paz">‚òÆÔ∏è Paz</option>
                                            <option value="perdao">ü§ù Perd√£o</option>
                                            <option value="crescimento">üå± Crescimento</option>
                                            <option value="gratidao">üôè Gratid√£o</option>
                                            <option value="esperanca">‚ú® Esperan√ßa</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label for="postStatus">Status</label>
                                        <select id="postStatus" name="status">
                                            <option value="draft">üìù Rascunho</option>
                                            <option value="published">‚úÖ Publicar</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Tags -->
                                <div class="form-group">
                                    <label for="postTags">Tags (separadas por v√≠rgula)</label>
                                    <input type="text" id="postTags" name="tags" 
                                           placeholder="Ex: paci√™ncia, perseveran√ßa, confian√ßa">
                                    <small>Palavras-chave para facilitar busca e recomenda√ß√£o</small>
                                </div>

                                <!-- Bot√µes de A√ß√£o -->
                                <div class="form-actions">
                                    <button type="button" class="btn-action" id="previewPostBtn">
                                        <i data-lucide="eye"></i>
                                        <span>Visualizar</span>
                                    </button>
                                    <button type="button" class="btn-action" id="saveDraftBtn">
                                        <i data-lucide="save"></i>
                                        <span>Salvar Rascunho</span>
                                    </button>
                                    <button type="submit" class="btn-action primary" id="publishPostBtn">
                                        <i data-lucide="send"></i>
                                        <span>Publicar Post</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Manage Posts Section -->
                    <div id="adminManageSection" class="admin-section">
                        <div class="auth-prompt">
                            <div class="auth-prompt-header">
                                <i class="auth-prompt-icon" data-lucide="list"></i>
                                <h3>Gerenciar Posts da B√≠blia</h3>
                            </div>
                            <p class="auth-prompt-description">Visualize, edite e gerencie todos os posts da B√≠blia Explicada</p>
                            
                            <!-- Filtros -->
                            <div class="manage-filters">
                                <div class="auth-buttons" style="margin-bottom: var(--space-4);">
                                    <button class="nav-link active" data-filter="all">
                                        <span class="nav-text">Todos</span>
                                    </button>
                                    <button class="nav-link" data-filter="published">
                                        <span class="nav-text">Publicados</span>
                                    </button>
                                    <button class="nav-link" data-filter="draft">
                                        <span class="nav-text">Rascunhos</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Lista de Posts -->
                            <div id="postsList" class="posts-list">
                                <!-- Posts ser√£o carregados aqui dinamicamente -->
                                <div class="loading-posts" style="text-align: center; padding: var(--space-8);">
                                    <i data-lucide="loader" class="loading-icon"></i>
                                    <p>Carregando posts...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bible Disagreements Page - Modera√ß√£o de Discord√¢ncias -->
            <section id="bibleDisagreementsPage" class="page">
                <div class="profile-header">
                    <div class="profile-info">
                        <div class="profile-avatar">
                            <i data-lucide="message-square" style="width: 40px; height: 40px; color: var(--color-warning);"></i>
                        </div>
                        <h2 class="profile-name">Modera√ß√£o de Discord√¢ncias</h2>
                        <p class="profile-bio">Painel para revisar e responder discord√¢ncias dos usu√°rios sobre explica√ß√µes b√≠blicas</p>
                        <div class="profile-stats">
                            <div class="stat">
                                <strong id="disagreementsPending">0</strong>
                                <span>Pendentes</span>
                            </div>
                            <div class="stat">
                                <strong id="disagreementsReviewed">0</strong>
                                <span>Revisadas</span>
                            </div>
                            <div class="stat">
                                <strong id="disagreementsAccepted">0</strong>
                                <span>Aceitas</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-content">
                    <!-- Filtros de Discord√¢ncias -->
                    <div class="admin-nav">
                        <div class="auth-buttons" style="margin-bottom: var(--space-6);">
                            <button class="nav-link active" data-status="pending">
                                <i class="nav-icon" data-lucide="clock"></i>
                                <span class="nav-text">Pendentes</span>
                            </button>
                            <button class="nav-link" data-status="reviewed">
                                <i class="nav-icon" data-lucide="check-circle"></i>
                                <span class="nav-text">Revisadas</span>
                            </button>
                            <button class="nav-link" data-status="all">
                                <i class="nav-icon" data-lucide="list"></i>
                                <span class="nav-text">Todas</span>
                            </button>
                        </div>
                    </div>

                    <!-- Lista de Discord√¢ncias -->
                    <div id="disagreementsList" class="disagreements-list">
                        <!-- Discord√¢ncias ser√£o carregadas aqui dinamicamente -->
                        <div class="loading-disagreements" style="text-align: center; padding: var(--space-8);">
                            <i data-lucide="loader" class="loading-icon"></i>
                            <p>Carregando discord√¢ncias...</p>
                        </div>
                    </div>
                </div>
            </section>

        </main>

    </div>

    <!-- Modals -->
    <div id="modalOverlay" class="modal-overlay">
        <!-- Auth Modal -->
        <div id="authModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="authModalTitle">Entrar no Santoo</h3>
                    <button class="btn-close" id="closeAuthModal">
                        <i data-lucide="x" class="close-icon"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Auth forms will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts with Cache Busting -->
    <!-- CACHE BUSTING: For√ßa browser a sempre carregar vers√£o mais recente -->
    <!-- PROBLEMA: F5 normal carrega arquivos corrompidos do cache -->
    <!-- SOLU√á√ÉO: Timestamp impede cache de arquivos JS -->
    <script>
        // PERFORMANCE-OPTIMIZED SCRIPT LOADER - Fase 5 Refinements
        const CACHE_VERSION = '1.5.0_' + Date.now();
        
        // Script loader with intelligent lazy loading
        class OptimizedScriptLoader {
            static cache = new Map();
            static loadedScripts = new Set();
            
            // Load script with optimizations
            static loadScript(src, options = {}) {
                const cacheKey = src;
                if (this.cache.has(cacheKey)) {
                    return this.cache.get(cacheKey);
                }
                
                const promise = new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = `${src}?v=${CACHE_VERSION}`;
                    script.defer = options.defer !== false; // Default to defer
                    script.async = options.async || false;
                    
                    script.onload = () => {
                        this.loadedScripts.add(src);
                        console.log(`‚úÖ ${src} loaded successfully`);
                        resolve();
                    };
                    
                    script.onerror = (error) => {
                        console.error(`‚ùå Failed to load ${src}:`, error);
                        reject(error);
                    };
                    
                    document.head.appendChild(script);
                });
                
                this.cache.set(cacheKey, promise);
                return promise;
            }
            
            // Load critical scripts immediately
            static async loadCriticalScripts() {
                const criticalScripts = [
                    'js/utils.js',
                    'js/icons-init.js', 
                    'js/api.js',
                    'js/components.js',
                    'js/auth.js',
                    'js/main.js'
                ];
                
                console.log('üöÄ Loading critical scripts...');
                
                try {
                    await Promise.all(criticalScripts.map(src => this.loadScript(src)));
                    console.log('‚úÖ Critical scripts loaded successfully!');
                } catch (error) {
                    console.error('‚ùå Critical script loading failed:', error);
                    this.fallbackReload();
                }
            }
            
            // Lazy load non-critical scripts
            static lazyLoadScript(src) {
                if (this.loadedScripts.has(src)) return Promise.resolve();
                
                // Use intersection observer or timeout for lazy loading
                return new Promise(resolve => {
                    if ('requestIdleCallback' in window) {
                        requestIdleCallback(() => {
                            this.loadScript(src).then(resolve).catch(resolve);
                        });
                    } else {
                        setTimeout(() => {
                            this.loadScript(src).then(resolve).catch(resolve);
                        }, 100);
                    }
                });
            }
            
            // Fallback reload with cache clearing
            static fallbackReload() {
                console.log('üîÑ Forcing cache clear and reload...');
                if ('caches' in window) {
                    caches.keys().then(names => {
                        names.forEach(name => caches.delete(name));
                    });
                }
                location.reload(true);
            }
        }
        
        // Global lazy loading functions for specialized scripts
        window.loadBibleExplained = () => OptimizedScriptLoader.lazyLoadScript('js/bible-explained.js');
        window.loadBibleAdmin = () => OptimizedScriptLoader.lazyLoadScript('js/bible-admin.js'); 
        window.loadSpiritualHabits = () => OptimizedScriptLoader.lazyLoadScript('js/spiritual-habits.js');
        window.loadUpload = () => OptimizedScriptLoader.lazyLoadScript('js/upload.js');
        window.loadVideoPlayer = () => OptimizedScriptLoader.lazyLoadScript('js/video-player.js');
        
        // Start optimized loading
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => OptimizedScriptLoader.loadCriticalScripts());
        } else {
            OptimizedScriptLoader.loadCriticalScripts();
        }
    </script>
    
    <!-- PWA Service Worker - DESABILITADO PARA EVITAR CACHE -->
    <script>
        // FOR√áA REMO√á√ÉO DE SERVICE WORKER EXISTENTE
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for(let registration of registrations) {
                    console.log('üóëÔ∏è Removendo Service Worker:', registration);
                    registration.unregister();
                }
            });
            
            // LIMPA TODOS OS CACHES EXISTENTES
            if ('caches' in window) {
                caches.keys().then(function(names) {
                    for (let name of names) {
                        console.log('üóëÔ∏è Deletando cache:', name);
                        caches.delete(name);
                    }
                });
            }
        }
        
        // N√ÉO REGISTRA NOVO SERVICE WORKER
        console.log('üö´ Service Worker DESABILITADO - Cache limpo');
    </script>
</body>
</html>